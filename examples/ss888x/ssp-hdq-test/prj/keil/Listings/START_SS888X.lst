AX51 MACRO ASSEMBLER  START_SS888X                                                          11/23/21 16:48:55 PAGE     1


MACRO ASSEMBLER AX51 V3.15.3.0
OBJECT MODULE PLACED IN .\Objects\START_SS888X.obj
ASSEMBLER INVOKED BY: C:\Keil_v5\C51\BIN\AX51.EXE START_SS888X.A51 SET(SMALL) DEBUG PRINT(.\Listings\START_SS888X.lst) O
                      BJECT(.\Objects\START_SS888X.obj) EP

LOC    OBJ             LINE     SOURCE

                          1     $nomod51 
                          2     ;------------------------------------------------------------------------------
                          3     ;  This file is part of the C51 Compiler package
                          4     ;  Copyright (c) 2020-2030 Sinh Micro, Inc.
                          5     ;  Version 1.00
                          6     ;
                          7     ;  *** <<< Use Configuration Wizard in Context Menu >>> ***
                          8     ;------------------------------------------------------------------------------
                          9     ;  STARTUP_SS888X.A51:  This code is executed after processor reset.
                         10     ;
                         11     ;  To translate this file use A51 with the following invocation:
                         12     ;
                         13     ;     A51 STARTUP_SS888X.A51
                         14     ;
                         15     ;  To link the modified STARTUP.OBJ file to your application use the following
                         16     ;  Lx51 invocation:
                         17     ;
                         18     ;     Lx51 your object file list, STARTUP_SS888X.OBJ  controls
                         19     ;
                         20     ;------------------------------------------------------------------------------
                         21     ;
                         22     ;  User-defined <h> Power-On Initialization of Memory
                         23     ;
                         24     ;  With the following EQU statements the initialization of memory
                         25     ;  at processor reset can be defined:
                         26     ;
                         27     ; <o> IDATALEN: IDATA memory size <0x0-0x100>
                         28     ;     <i> Note: The absolute start-address of IDATA memory is always 0
                         29     ;     <i>       The IDATA space overlaps physically the DATA and BIT areas.
                         30     ; <o> XDATALEN: XDATA memory size <0x8000-0x833f>
                         31     ;     <i> Note: The absolute start-address of XDATA memory is always 0
                         32     ;     <i>       The IDATA space overlaps physically the DATA and BIT areas.
                         33     
 00C0                    34     IDATALEN            EQU     0C0H
 0340                    35     XDATALEN            EQU     340H
 007F                    36     XEEPROM_LEN         EQU     7FH
 0003                    37     XDATA_LEN_H         EQU     03H
 0040                    38     XDATA_LEN_L         EQU     40H
 8000                    39     XDATA_START_ADDR    EQU     8000H
                         40     
                         41     ;if CLR_XDATA_ALL = 1ï¼Œclear 832Byte XDATA, CLR_XDATA_ALL = 0, clear 832 - 128 byte XDA
                               TA
 0001                    42     CLR_XDATA_ALL       EQU     1H
                         43     
                         44     ;------------------------------------------------------------------------------
                         45     ;
                         46     ; <o> USECHIPID: If using FIRMWAREID to identify the firmware <0 or 1> 
                         47     ;     <i> 0, not use; 1, use.
 0000                    48     USEFIRMWAREID   EQU             0
                         49     ; <o> FIRMWAREID0: firmware id byte0
                         50     ; <o> FIRMWAREID1: firmware id byte1
                         51     ; <o> FIRMWAREID2: firmware id byte2 
                         52     ; <o> FIRMWAREID3: firmware id byte3
 0030                    53     FIRMWAREID0             EQU             30H
 0038                    54     FIRMWAREID1             EQU             38H
 0051                    55     FIRMWAREID2             EQU             51H
 0039                    56     FIRMWAREID3             EQU             39H
AX51 MACRO ASSEMBLER  START_SS888X                                                          11/23/21 16:48:55 PAGE     2

                         57     
                         58     ; Standard SFR Symbols 
 00E0                    59     ACC     DATA    0xe0
 00F0                    60     B       DATA    0F0H
 0081                    61     SP      DATA    81H
 0082                    62     DPL     DATA    82H
 0083                    63     DPH     DATA    83H
                         64     
                         65                     NAME    ?C_STARTUP
                         66     
------                   67     ?C_C51STARTUP   SEGMENT   CODE
------                   68     ?STACK          SEGMENT   IDATA
                         69     
------                   70                     RSEG    ?STACK
000000                   71                     DS      1
                         72     
                         73                     EXTRN CODE (?C_START)
                         74                     PUBLIC  ?C_STARTUP
                         75     
000000                   76                     CSEG    AT      0
000000 020000     F      77     ?C_STARTUP:     LJMP    STARTUP1
                         78     
------                   79                     RSEG    ?C_C51STARTUP
                         80     
000000                   81     STARTUP1:
                         82     
                         83     ;CLR XDATA
                         84     IF XDATALEN <> 0
000000 908000            85                     MOV     DPTR,#XDATA_START_ADDR
000003 E4                86                     CLR     A
                         87     IF CLR_XDATA_ALL = 1
000004 FF                88                     MOV     R7,A
000005 FE                89                     MOV     R6,A
                         90     ELSE
                                                MOV     R7,#XEEPROM_LEN
                                                MOV     R6,A
                                ENDIF
000006 F0                94     XDATALOOP:      MOVX    @DPTR,A
000007 A3                95                     INC     DPTR
000008 0F                96                     INC     R7
000009 BF0001            97                     CJNE    R7,#0x00,XDATA_JUDGE
00000C 0E                98                     INC     R6
00000D BE03F6            99     XDATA_JUDGE:    CJNE    R6,#XDATA_LEN_H,XDATALOOP
000010 BF40F3           100                     CJNE    R7,#XDATA_LEN_L,XDATALOOP
                        101     ENDIF
                        102     
                        103     ;CLR IDATA
                        104     IF IDATALEN <> 0
000013 78BF             105                     MOV     R0,#IDATALEN - 1
000015 E4               106                     CLR     A
000016 F6               107     IDATALOOP:      MOV     @R0,A
000017 D8FD             108                     DJNZ    R0,IDATALOOP
                        109     ENDIF
000019 758100     F     110                     MOV     SP,#?STACK-1
00001C 020000     E     111                     LJMP    ?C_START
                        112     
                        113     ; Optional ROM-table for XC864 LIN-BSL
                        114     IF USEFIRMWAREID <> 0
                                                CSEG    AT      3FCH
                                                DB      FIRMWAREID0
                                                DB      FIRMWAREID1
                                                DB      FIRMWAREID2
                                                DB      FIRMWAREID3
                                ENDIF
                        121     
                        122                     END
AX51 MACRO ASSEMBLER  START_SS888X                                                          11/23/21 16:48:55 PAGE     3

SYMBOL TABLE LISTING
------ ----- -------


N A M E                             T Y P E  V A L U E     ATTRIBUTES

?C_C51STARTUP. . . . . . . . . . .  C  SEG   00001FH       REL=UNIT, ALN=BYTE
?C_START . . . . . . . . . . . . .  C  ADDR  -------       EXT
?C_STARTUP . . . . . . . . . . . .  C  ADDR  0000H     R   SEG=?CO?START_SS888X?3
?STACK . . . . . . . . . . . . . .  I  SEG   000001H       REL=UNIT, ALN=BYTE
ACC. . . . . . . . . . . . . . . .  D  ADDR  00E0H     A   
B. . . . . . . . . . . . . . . . .  D  ADDR  00F0H     A   
CLR_XDATA_ALL. . . . . . . . . . .  N  NUMB  0001H     A   
DPH. . . . . . . . . . . . . . . .  D  ADDR  0083H     A   
DPL. . . . . . . . . . . . . . . .  D  ADDR  0082H     A   
FIRMWAREID0. . . . . . . . . . . .  N  NUMB  0030H     A   
FIRMWAREID1. . . . . . . . . . . .  N  NUMB  0038H     A   
FIRMWAREID2. . . . . . . . . . . .  N  NUMB  0051H     A   
FIRMWAREID3. . . . . . . . . . . .  N  NUMB  0039H     A   
IDATALEN . . . . . . . . . . . . .  N  NUMB  00C0H     A   
IDATALOOP. . . . . . . . . . . . .  C  ADDR  0016H     R   SEG=?C_C51STARTUP
SP . . . . . . . . . . . . . . . .  D  ADDR  0081H     A   
STARTUP1 . . . . . . . . . . . . .  C  ADDR  0000H     R   SEG=?C_C51STARTUP
USEFIRMWAREID. . . . . . . . . . .  N  NUMB  0000H     A   
XDATA_JUDGE. . . . . . . . . . . .  C  ADDR  000DH     R   SEG=?C_C51STARTUP
XDATA_LEN_H. . . . . . . . . . . .  N  NUMB  0003H     A   
XDATA_LEN_L. . . . . . . . . . . .  N  NUMB  0040H     A   
XDATA_START_ADDR . . . . . . . . .  N  NUMB  8000H     A   
XDATALEN . . . . . . . . . . . . .  N  NUMB  0340H     A   
XDATALOOP. . . . . . . . . . . . .  C  ADDR  0006H     R   SEG=?C_C51STARTUP
XEEPROM_LEN. . . . . . . . . . . .  N  NUMB  007FH     A   


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S).
