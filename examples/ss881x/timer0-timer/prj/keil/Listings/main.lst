C51 COMPILER V9.60.0.0   MAIN                                                              09/15/2021 16:21:06 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE ..\..\src\main.c OMF2 OPTIMIZE(8,SPEED) BROWSE INCDIR(..\..\inc;..\..\pr
                    -j) DEBUG PRINT(.\Listings\main.lst) OBJECT(.\Objects\main.obj)

line level    source

   1          /*
   2           * eint0-test.c
   3           *
   4           * EINT0 test.
   5           *
   6           * Author: lipeng<lp@sinhmicro.com>
   7           * 
   8           * Copyright (C) 2021 Sinh Micro, Inc.
   9           *
  10           * Licensed under the Apache License, Version 2.0 (the "License");
  11           * you may not use this file except in compliance with the License.
  12           * You may obtain a copy of the License at
  13           *
  14           *     http://www.apache.org/licenses/LICENSE-2.0
  15           *
  16           * Unless required by applicable law or agreed to in writing, software
  17           * distributed under the License is distributed on an "AS IS" BASIS,
  18           * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  19           * See the License for the specific language governing permissions and
  20           * limitations under the License.
  21           */
  22          
  23          #include "ss881x.h"
  24          
  25          typedef unsigned char u8;
  26          typedef unsigned int u16;
  27          
  28          void Timer0Init()
  29          {
  30   1          TCON1 |= 0x08;         //TCLK0=SCLK/2=2MHz       
  31   1          TMOD  |= 0x02;         //Timer0 8bit reload model
  32   1          TL0  = 0x38;           //计数值
  33   1          TH0  = 0x38;           //装载值
  34   1          ET0  = 1;              // enable ET0 IRQ
  35   1          EA   = 1;              // Enable global IRQ
  36   1          TR0  = 1;              //start-up Timer0
  37   1          
  38   1      }
  39          
  40          int main()
  41          {
  42   1          WDTCON  = 0x05;         // disable watchdog at startup
  43   1      
  44   1          P0MOD  &= ~0x01;       // P00 as GPIO output
  45   1          P0     &= ~0x01;       // P00 output low
  46   1          
  47   1          Timer0_Init();
*** WARNING C206 IN LINE 47 OF ..\..\src\main.c: 'Timer0_Init': missing function-prototype
  48   1          while (1) {
  49   2          }
  50   1      }
  51          void Timer0() interrupt 1
  52          {
  53   1          static u16 i;
C51 COMPILER V9.60.0.0   MAIN                                                              09/15/2021 16:21:06 PAGE 2   

  54   1          i++;
  55   1          if(i==10000)            //每隔1s,P00翻转一次
  56   1          {
  57   2              P0  ^= 0x01;
  58   2              i  = 0;    
  59   2          }
  60   1      }
  61          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     70    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      2    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
   EDATA SIZE       =   ----    ----
   HDATA SIZE       =   ----    ----
   XDATA CONST SIZE =   ----    ----
   FAR CONST SIZE   =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  1 WARNING(S),  0 ERROR(S)
